<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
  "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">

<html xmlns="http://www.w3.org/1999/xhtml">
<head>
  <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
  <meta name="description" content="A tool used to obfuscate python scripts." />
  <meta name="Keywords" content="Python, 加密, 源代码, 混淆, 保护" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0, minimum-scale=1.0, maximum-scale=1.0, user-scalable=no">
  <title>Pyarmor 电子订单</title>
  <link rel="stylesheet" href="css/bootstrap.min.css" type="text/css" />
  <script type="text/javascript" src="js/jquery.min.js"></script>
  <script type="text/javascript" src="js/bootstrap.min.js"></script>
</head>

<body role="document">

  <div class="container">
    <div class="page-header">
      <h1>Pyarmor <small>电子订单</small></h1>
    </div>

    <p class="lead"><small>一个用于加密和保护 Python 源代码的工具</small></p>
    <dl>
      <dt>价格</dt>
      <dd>212.00元（限时特惠）</dd>
    </dl>

    <h3>用户信息</h3>
    <form>
        <div class="form-group">
          <label for="input-name">授权名称</label>
          <input type="text" class="form-control" id="input-name" />
          <p class="help-block">输入被授权的用户名称，公司用户填写公司的名称</p>
        </div>
        <div class="form-group">
          <label for="input-email">电子邮件</label>
          <input type="email" class="form-control" id="input-email" />
          <p class="help-block">支付成功之后注册码会自动发送到电子邮箱，如果没有收到请联系<a href="mailto:13991280625@163.com">13991280625@163.com</a></p>
        </div>
    </form>

    <h3>支付方式</h3>
    <form>

      <label class="radio-inline">
        <input type="radio" name="inlineRadioOptions" id="raido-weixin" value="weixin" checked/>微信支付
      </label>
      <label class="radio-inline">
        <input type="radio" name="inlineRadioOptions" id="radio-alipay" value="alipay"/>支付宝转账
      </label>
      <label class="radio-inline">
        <input type="radio" name="inlineRadioOptions" id="radio-web" value="website"/>电子商务网站
      </label>

      <div class="panel panel-default" style="margin-top: 1em;">
        <div class="panel-body">
          <div class="payment-way" id="payment-weixin">
            <button type="button" class="btn btn-success payment-link" data-toggle="modal" data-target=".weixin-payment-image" id="open-pay">微信扫码支付</button>
          </div>
          <div class="payment-way" id="payment-alipay" style="display: none;">
            <button type="button" class="btn btn-success payment-link" data-toggle="modal" data-target=".weixin-payment-image" id="open-pay">支付宝转账</button>
          </div>
          <div class="payment-way" id="payment-website" style="display: none;">
            <a role="button" class="btn btn-link" href="https://order.shareit.com/cart/add?vendorid=200089125&PRODUCT[300871197]=1">
              <img height="40" src="https://mycommerce.akamaized.net/ui/Content/img/logo_mycommerce.svg" alt="Digital River" />
            </a>
          </div>
        </div>
      </div>

    </form>
  </div>

  <div class="modal fade weixin-payment-image" tabindex="-1" role="dialog" aria-labelledby="weixin">
    <div class="modal-dialog modal-sm" role="document">
      <div class="modal-content">
        <img class="img-responsive" src="weixin-212.jpg"/>
      </div>
    </div>
  </div>

  <script type="text/javascript">

    Array.prototype.forEach.call( document.querySelectorAll( 'input[name="inlineRadioOptions"]' ), function ( radio ) {
        radio.addEventListener( 'click', function ( e ) {
            Array.prototype.forEach.call( document.querySelectorAll( '.payment-way' ), function ( element ) {
                element.style.display = 'none';
            } );
            document.querySelector( '#payment-' + e.currentTarget.value ).style.display = '';
        } );
    } );

    function logPyarmorOrder() {

        var queryString = [];

        var element = document.querySelector( '#input-name' );
        var value = element.value;
        if ( ! value ) {
            element.focus();
            return false;
        }
        queryString.push( 'name=' + encodeURIComponent(value) );

        element = document.querySelector( '#input-email' );
        value = element.value;
        if ( ! value ) {
            element.focus();
            return false;
        }
        queryString.push( 'email=' + encodeURIComponent(value) );

        var request = new XMLHttpRequest();

        request.onload = function() {

            if (request.status != 200) {
                console.log( 'Log pyarmor order failed' );
                return;
            }

            console.log( queryString.join( '&' ) );

        };

        request.open('GET', 'order-log.html?' + queryString.join( '&' ), true);
        request.send();
    }

    Array.prototype.forEach.call( document.querySelectorAll( '.payment-link' ), function ( element ) {
        element.addEventListener( 'click', function ( e ) {
            if ( ! logPyarmorOrder() ) {
                e.stopPropagation();
            }    
        }, false );
    } );

  </script>

</body>
</html>
